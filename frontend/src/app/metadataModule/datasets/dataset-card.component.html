<div class="container-fluid mt-4">
    <div class="row">
      <div class="col">
        <h2>JEU DE DONNÉES : {{dataset.dataset_name}}</h2>
      </div>
      <div class="col-auto" width="60">
        <button class="btn btn-success margin-top-sm" (click)="getPdf()">Exporter au fomat PDF</button>
      </div>
    </div>
    
    

    <div class=" row row-0 ">
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col"><h4>Taxons</h4> {{nbTaxons}} </div>
              <div class="col-auto" width="60"><img src="./assets/images/Taxon_icon.svg" width="64"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col"><h4>Observations</h4> {{nbObservations}} </div>
              <div class="col-auto" width="60"><img src="./assets/images/Donnee_icon.svg" width="64"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row row-0 ">
      <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 ">
        <div class="card">
          <div class="card-header">
            Fiche descriptive
          </div>
          <div class="card-body">

            <div class="b">Identification :</div>
            <div class="a"> Instance : {{dataset.dataset_name}}</div>
            <div class="a"> Identifiant SINP du jeu de données : {{dataset.unique_dataset_id}}</div>
            <div class="a"> Libellé court : {{dataset.dataset_shortname}}</div>
            <div class="a"> Description : <small>{{dataset.dataset_desc}}></small></div>

            <br/>

            <div class="b">Type de données : {{dataset.data_type.label_default}} </div>
            <div class="b"> Objectifs : {{dataset.dataset_objectif.label_default}} </div>
            
            <br/>

            <div class="b">Territoires :</div>
            <div class="a"> Couverture du territoire terrestre : {{dataset.terrestrial_domain ? "oui" : "non"}} </div>
            <div class="a"> Couverture du territoire marin : {{dataset.marine_domain ? "oui" : "non"}} </div>

            <br/>

            <div class="b">Cadre de référence</div>
            <div class="a"> Titre du cadre d'acquisition : {{dataset.acquisition_framework.acquisition_framework_name}} </div>
            <div class="a"> Identifiant du cadre d'acquisition : {{dataset.acquisition_framework.unique_acquisition_framework_id }} </div>

            <br/>
            
            <div class="b">Processus de collecte :</div>
            <div class="a"> Libellé : {{dataset.collecting_method.label_default}} </div>
            <div class="a"> Description : {{dataset.collecting_method.definition_default}} </div>
            <!--div class="a"> Url : ??? </div-->
            <!--div class="a"> Type de protocole : ??? </div-->
            <!--div class="a"> Précisions : ??? </div-->
            <div class="a"> Code : {{dataset.collecting_method.cd_nomenclature}} </div>

            <br/>

            <div *ngIf="dataset.cor_dataset_actor">
            <div class="b">Contacts </div>
              <div *ngFor="let actor of dataset.cor_dataset_actor">
                <div class="a">Nom : {{ actor.role?.nom_role }} {{ actor.role?.prenom_role }}</div>
                <div class="a">Organisme : {{ actor.organism?.nom_organisme }}</div>
                <!--div class="a">Base de production : ???</div-->
                <div class="a">Email : {{ actor.role?.email }}</div>
                <br/>
              </div>
            </div>

            <br/>

            <div class="b">Attribut additionnels</div>
            <div class="a">Actif : {{dataset.active ? 'Oui' : 'Non'}} </div>
            <div class="a">Validable : {{dataset.validable ? 'Oui' : 'Non'}} </div>

            <br/>
            
            <div class="a">Origine des données : {{dataset.data_origin.label_default}} </div>
            <div class="a">Statut source : {{dataset.source_status.label_default}} </div>
            <div class="a">Type de ressource : {{dataset.resource_type.label_default}} </div>

            <br/>
        
            <div *ngIf="dataset.modules">
              <div class="b">Module(s) GeoNature associé(s) au jeu de données :</div>
              <div *ngFor='let module of dataset.modules'>
                <div class="a">{{ module.module_code }}</div>
              </div>
            </div>

            <div *ngIf="dataset.keywords">
              Mots-clés :
              <div *ngFor='let module of dataset.modules'>
                <div class="a">{{dataset.keywords }}</div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-8 col-lg-4 padding-sm margin-md">
        <div class="card ">
          <div class="card-header">
            Périmètre géographique
          </div>
          <div class="card-body">
            <div id="world-map" style="height: 250px;"></div>
          </div>
        </div>
        <div class="card ">
          <div class="card-header">
            Répartition des espèces
          </div>
          <div class="card-body">
            <div style="display: block">
                <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType"
                    [colors]="pieChartColors" [options]="pieChartOptions" padding="20px">
                </canvas>
            </div>
          </div>
        </div>
        <div class="card ">
          <div class="card-header">
            Cadre d'acquisition initial
          </div>
            <div class="card-body">
            <div class="row">
              <div class="col-auto" width="60"><img src="./assets/images/Taxon_icon_vert.svg" width="64"></div>
              <div class="col">
                <div>{{dataset.acquisition_framework.acquisition_framework_name}}</div>
                <div><small>{{dataset.acquisition_framework.unique_acquisition_framework_id}}</small></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="btn btn-secondary" routerLink="/metadata">  <i class="fa fa-arrow-left" aria-hidden="true"></i> Retour
    </button>
</div>

